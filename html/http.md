# http

|请求方法|-|
|-|-|
|HEAD|不需要返回内容|
|TRACE|查看代理是否修改请求|
|OPTIONS|返回服务器可用请求的方法|
|GET|放在url后面，明文|
|POST|密文|
|DELETE|删除|
|PUT|和post差不，指定资源的位置|


> http是超文本传输协议的缩写，是用于服务器传输超文本到本地浏览器的传送协议，是一个基于tcp/ip通信协议来传递数据；

## tcp和udp的区别
### tcp
- 面向连接
- 提供可靠服务，通过tcp连接传送的数据，无差错，不丢失，不重复。
- tcp面向字节流
- tcp只能1对1
- tcp首部较大为20字节；而udp只有个字节
- tcp面向可靠性传输；

### udp
- 面向无连接，即发送数据前不需要先建立连接
- udp尽最大努力交付，即不保证可靠交付，
- udp面向报文
- udp支持1对1，1对多
- udp首部字节只有8字节；
- udp不可靠

## HTTP请求信息和响应信息的格式

请求：
1. 请求行:请求方法；路径；所有协议版本
2. 请求头：key：value
3. 换行
4. 请求主体信息：(post比get多了主体信息/可选)发送内容

响应：
1. 响应行：协议版本，状态码，状态文字
2. 响应头信息：key：value
3. 空行
4. 主体信息

防盗链：
加Referer

## http1
Http1.0
http1.0有两个很大的缺点：

- 连接无法复用 （TCP通道立即关闭）
- 队首请求阻塞 （http、tcp）

http1.1已经被广泛使用。在http1.0的基础上，新增了以下功能：

- TCP通道长连接（持久连接），在响应后不关闭TCP通道
- 新增了首部字段 Host，客户端指明访问的主机（域名 || [ip + 端口号]），使得服务端可以在同一域名下的不同主机之间实现多个虚拟Web站点。
- 新增了首部字段 Connection，实现持久连接，默认开启 Keep-Alive，关闭连接复用需要显示的设置成 Close
- 新增了http流水线机制（http pipelining），允许幂等的请求（GET，HEAD）同时发送，在响应方面仍然是以同步方式的顺序返回

http1.1的新增特性解决了http1.0的两个大难题，实现了TCP通道连接复用，并支持多个请求同时发送，互不影响。

http2.0
http1.0和http1.1仍然有很多的问题，http2.0目标便是解决http1.1版本中的两个问题：

延迟性 （改动http应用层，而TCP传输层已经被广泛应用，改动代价太大）
安全性
为了实现低延迟和高吞吐量，http2增加了了二进制分帧层和首部压缩技术。